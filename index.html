<!DOCTYPE html>
<html lang="en">
  <head>
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
      integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
      crossorigin="anonymous"
    ></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
      integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
      crossorigin="anonymous"
    ></script>
    <title>Developer's community - Develonity</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Mukta:300,400,700"
    />
    <link rel="stylesheet" href="fonts/icomoon/style.css" />

    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/magnific-popup.css" />
    <link rel="stylesheet" href="css/jquery-ui.css" />
    <link rel="stylesheet" href="css/owl.carousel.min.css" />
    <link rel="stylesheet" href="css/owl.theme.default.min.css" />

    <link rel="stylesheet" href="css/aos.css" />

    <link rel="stylesheet" href="css/style.css" />
    <script>
      function backendCategory() {
        localStorage.setItem("categoryChoice", "BACKEND");
        window.location = "QnA.html";
      }
      function frontCategory() {
        localStorage.setItem("categoryChoice", "FRONTEND");
        window.location = "QnA.html";
      }
      function aiCategory() {
        localStorage.setItem("categoryChoice", "AI");
        window.location = "QnA.html";
      }
      function dataScienceCategory() {
        localStorage.setItem("categoryChoice", "DATA_SCIENCE");
        window.location = "QnA.html";
      }
      function community() {
        alert(
          "해당 기능은 시간관계상 프론트 구현을 하지 못하여 이용이 어렵습니다. 죄송합니다."
        );
      }
      function logout() {
        var settings = {
          url: "http://52.79.252.88:8080/api/logout",
          method: "POST",
          timeout: 0,
          headers: {
            Authorization: localStorage.getItem("accessToken"),
          },
        };

        $.ajax(settings)
          .done(function (response) {
            console.log(response);
            localStorage.removeItem("accessToken");
            localStorage.removeItem("refreshToken");
            location.reload(true);
          })
          .fail(function (response) {
            var settings2 = {
              url: "http://52.79.252.88:8080/api/reissue",
              method: "POST",
              timeout: 0,
              headers: {
                Refresh: localStorage.getItem("refreshToken"),
              },
            };

            $.ajax(settings2)
              .done(function (response) {
                localStorage.setItem("accessToken", response.accessToken);
                localStorage.setItem("refreshToken", response.refreshToken);
                var settings3 = {
                  url: "http://52.79.252.88:8080/api/logout",
                  method: "POST",
                  timeout: 0,
                  headers: {
                    Authorization: location.getItem("accessToken"),
                  },
                };
                $.ajax(settings3)
                  .done(function (response) {
                    console.log(response);
                    localStorage.removeItem("accessToken");
                    localStorage.removeItem("refreshToken");
                    location.reload(true);
                  })
                  .fail(function (response) {
                    location.reload(true);
                  });
              })
              .fail(function (response) {
                location.reload(true);
              });
          });
      }
    </script>
  </head>
  <body>
    <div class="site-wrap">
      <header class="site-navbar" role="banner">
        <div class="site-navbar-top">
          <div class="container">
            <div class="row align-items-center">
              <div
                class="col-6 col-md-4 order-2 order-md-1 site-search-icon text-left"
              >
                <form action="" class="site-block-top-search">
                  <!-- <span class="icon icon-search2"></span>
                  <input
                    type="text"
                    class="form-control border-0"
                    placeholder="Search"
                  /> -->
                </form>
              </div>

              <div
                class="col-12 mb-3 mb-md-0 col-md-4 order-1 order-md-2 text-center"
              >
                <div class="site-logo">
                  <a href="index.html" class="js-logo-clone">Develonity</a>
                </div>
              </div>

              <div class="col-6 col-md-4 order-3 order-md-3 text-right">
                <div class="site-top-icons">
                  <ul>
                    <li id="logoutPlace"></li>
                    <li id="loginedPerson">
                      <a href="signUp.html" class="icon icon-person"> </a>
                    </li>
                    <li>
                      <a href="#" class="icon icon-heart-o"></a>
                    </li>
                    <li>
                      <a href="orderList.html" class="site-cart">
                        <span class="icon icon-shopping_cart"></span>
                      </a>
                    </li>
                    <li class="d-inline-block d-md-none ml-md-0">
                      <a href="#" class="site-menu-toggle js-menu-toggle"
                        ><span class="icon-menu"></span
                      ></a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
        <nav
          class="site-navigation text-right text-md-center"
          role="navigation"
        >
          <div class="container">
            <ul class="site-menu js-clone-nav d-none d-md-block">
              <li><a href="index.html">Home</a></li>
              <li><a onclick="community()">Community</a></li>
              <li><a href="QnA.html">Q&A</a></li>
              <li><a href="shop.html">GiftCard Shop</a></li>
            </ul>
          </div>
        </nav>
      </header>
      <div class="site-section site-blocks-2">
        <div class="container">
          <div class="row">
            <div
              class="col-sm-6 col-md-6 col-lg-4 mb-4 mb-lg-0"
              data-aos="fade"
              data-aos-delay=""
            >
              <a class="block-2-item" onclick="community()">
                <figure class="image">
                  <img
                    src="images/meeting-594091_640.jpg"
                    alt=""
                    class="img-fluid"
                  />
                </figure>
                <div class="text">
                  <span class="text-uppercase"
                    >현업/예비 개발자들과 소통이 필요해?</span
                  >
                  <h3>커뮤니티 게시판</h3>
                </div>
              </a>
            </div>
            <div
              class="col-sm-6 col-md-6 col-lg-4 mb-5 mb-lg-0"
              data-aos="fade"
              data-aos-delay="100"
            >
              <a class="block-2-item" href="QnA.html">
                <figure class="image">
                  <img
                    src="images/business-woman-2756209_640.jpg"
                    alt=""
                    class="img-fluid"
                  />
                </figure>
                <div class="text">
                  <span class="text-uppercase"
                    >개발하면서 막히는게 있다면?</span
                  >
                  <h3>Q&A 게시판</h3>
                </div>
              </a>
            </div>
            <div
              class="col-sm-6 col-md-6 col-lg-4 mb-5 mb-lg-0"
              data-aos="fade"
              data-aos-delay="200"
            >
              <a class="block-2-item" href="shop.html">
                <figure class="image">
                  <img
                    src="images/coupon-421600_640.jpg"
                    alt=""
                    class="img-fluid"
                  />
                </figure>
                <div class="text">
                  <span class="text-uppercase"
                    >기프트포인트로 기프티콘을 구매해보세요</span
                  >
                  <h3>기프티콘 샵</h3>
                </div>
              </a>
            </div>
          </div>
        </div>
      </div>

      <div class="site-section block-3 site-blocks-2 bg-light">
        <div class="container">
          <div class="row justify-content-center">
            <div class="col-md-7 site-section-heading text-center pt-4">
              <h2>Q&A 게시판 바로가기</h2>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">
              <div class="nonloop-block-3 owl-carousel">
                <div
                  class="item"
                  style="cursor: pointer"
                  onclick="backendCategory()"
                >
                  <div class="block-4 text-center">
                    <figure class="block-4-image">
                      <img
                        src="images/laptop-2620118_640.jpg"
                        alt="Image placeholder"
                        class="img-fluid"
                      />
                    </figure>
                    <div class="block-4-text p-4">
                      <h3><a href="#">BACKEND</a></h3>
                    </div>
                  </div>
                </div>
                <div
                  class="item"
                  style="cursor: pointer"
                  onclick="frontCategory()"
                >
                  <div class="block-4 text-center">
                    <figure class="block-4-image">
                      <img
                        src="images/code-1076536_640.jpg"
                        alt="Image placeholder"
                        class="img-fluid"
                      />
                    </figure>
                    <div class="block-4-text p-4">
                      <h3><a href="#">FRONTEND</a></h3>
                    </div>
                  </div>
                </div>
                <div
                  class="item"
                  style="cursor: pointer"
                  onclick="aiCategory()"
                >
                  <div class="block-4 text-center">
                    <figure class="block-4-image">
                      <img
                        src="images/artificial-intelligence-7768524_640.jpg"
                        alt="Image placeholder"
                        class="img-fluid"
                      />
                    </figure>
                    <div class="block-4-text p-4">
                      <h3><a href="#">AI</a></h3>
                    </div>
                  </div>
                </div>
                <div
                  class="item"
                  style="cursor: pointer"
                  onclick="dataScienceCategory()"
                >
                  <div class="block-4 text-center">
                    <figure class="block-4-image">
                      <img
                        src="images/digitization-6605643_640.jpg"
                        alt="Image placeholder"
                        class="img-fluid"
                      />
                    </figure>
                    <div class="block-4-text p-4">
                      <h3><a href="#">DATA SCIENCE</a></h3>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- <div class="site-section block-8">
        <div class="container">
          <div class="row justify-content-center mb-5">
            <div class="col-md-7 site-section-heading text-center pt-4">
              <h2>Big Sale!</h2>
            </div>
          </div>
          <div class="row align-items-center">
            <div class="col-md-12 col-lg-7 mb-5">
              <a href="#"
                ><img
                  src="images/blog_1.jpg"
                  alt="Image placeholder"
                  class="img-fluid rounded"
              /></a>
            </div>
            <div class="col-md-12 col-lg-5 text-center pl-md-5">
              <h2><a href="#">50% less in all items</a></h2>
              <p class="post-meta mb-4">
                By <a href="#">Carl Smith</a>
                <span class="block-8-sep">&bullet;</span> September 3, 2018
              </p>
              <p>
                Lorem ipsum dolor sit amet, consectetur adipisicing elit.
                Quisquam iste dolor accusantium facere corporis ipsum animi
                deleniti fugiat. Ex, veniam?
              </p>
              <p><a href="#" class="btn btn-primary btn-sm">Shop Now</a></p>
            </div>
          </div>
        </div>
      </div> -->

      <footer class="site-footer border-top">
        <div class="container">
          <div class="row">

          </div>
          <div class="row pt-5 mt-5 text-center">
            <div class="col-md-12">
              <p>
                <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                Copyright &copy;
                <script
                  data-cfasync="false"
                  src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"
                ></script>
                <script>
                  document.write(new Date().getFullYear());
                </script>
                All rights reserved | Develonity
                <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
              </p>
            </div>
          </div>
        </div>
      </footer>
    </div>
    <script src="https://code.jquery.com/jquery-3.5.0.js"></script>
    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/jquery-ui.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/jquery.magnific-popup.min.js"></script>
    <script src="js/aos.js"></script>
    <script src="js/main.js"></script>
    <script>
      $(function () {
        var settings = {
          url: "http://52.79.252.88:8080/api/user/me/profile",
          method: "GET",
          timeout: 0,
          headers: {
            Authorization: localStorage.getItem("accessToken"),
          },
        };

        $.ajax(settings)
          .done(function (response) {
            console.log(response);
            $("#loginedPerson").empty();
            $("#loginedPerson").append(
              `<a href=myProfile.html class="icon icon-person"> </a>`
            );
            $("#logoutPlace").append(
              `<button style="font-size: 12px; cursor: pointer" onclick="logout()">
                        로그아웃
                      </button>`
            );
          })
          .fail(function (response) {
            var settings2 = {
              url: "http://52.79.252.88:8080/api/reissue",
              method: "POST",
              timeout: 0,
              headers: {
                Refresh: localStorage.getItem("refreshToken"),
              },
            };

            $.ajax(settings2).done(function (response) {
              localStorage.setItem("accessToken", response.accessToken);
              localStorage.setItem("refreshToken", response.refreshToken);
              location.reload(true);
            });
          });
      });
    </script>
  </body>
</html>
